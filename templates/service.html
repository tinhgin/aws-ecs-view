{% extends 'base.html' %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css">
{% endblock %}

{% block content %}
            <table id="service_table" class="table table-bordered table-hover" style="width:100%">
                    <thead>
                        <tr>
                            <th>SERVICE NAME</th>
                            <th>STATUS</th>
                            <th>RUNNING/DESIRED COUNT</th>
                            <th>TASK DEFINITION</th>
                            <th>ACTION</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for service in services %}
                        <tr>
                            <td>{{ service['serviceName'] }}</td>
                            <td>{{ service['status'] }}</td>
                            <td>{{ service['runningCount'] }}/{{ service['desiredCount'] }}</td>
                            <td>{{ service['taskDefinition'].split("/")[-1] }}</td>
                            <td><a class="btn btn-info" role="button">NA</a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <th>SERVICE NAME</th>
                            <th>STATUS</th>
                            <th>RUNNING/DESIRED COUNT</th>
                            <th>TASK DEFINITION</th>
                            <th>ACTION</th>
                        </tr>
                    </tfoot>
                </table>
{% endblock %}

{% block script %}
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready( function () {
            $('#service_table').DataTable({
                "order": [[ 0, "asc" ]]
             });
        } );
    </script>
{% endblock %}